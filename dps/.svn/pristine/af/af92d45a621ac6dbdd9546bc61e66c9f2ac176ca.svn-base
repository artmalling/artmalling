<?xml version="1.0" encoding="euc-kr"?>
<!-- XML 버전 1.0을 사용하며 encoding 타입은 ‘euc-kr’로 한다.-->
<!--
 * 작 성 자 : 정진영
 * 회 사 명 : FKSS
 * 작 성 일 : 2010.04.22
 * 변 경 일 : 
 * 변경내용 : 
 * 개    요 :  POS를 조회한다.
 -->
<service name="/pcod802.pc">
    <gauce name="H_SEL_MASTER">
        <column colName="STR_CD"             colType="TB_STRING"   size="2"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="STR_NAME"           colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="POS_NO"             colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="POS_NAME"           colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SHOP_NAME"          colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EVENT_PLACE_CD"     colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EVENT_PLACE_NAME"   colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="POS_FLAG"           colType="TB_STRING"   size="2"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="POS_FLAG_NAME"      colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="FLOR_CD"            colType="TB_STRING"   size="2"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="FLOR_NAME"          colType="TB_STRING"   size="2"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MST_POS_NO"         colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MST_POS_NAME"       colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="FNB_SHOP_CD"        colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="FNB_SHOP_NAME"      colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="ITEM_REG_TYPE"      colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="ITEM_REG_TYPE_NAME" colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MIX_REG_YN"         colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="POS_IP_ADDR1"       colType="TB_STRING"   size="15"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MAIN_SRVR_IP_ADDR"  colType="TB_STRING"   size="15"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MAIN_SRVR_PORT_NO"  colType="TB_INT"      size="5"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BACK_SRVR_IP_ADDR"  colType="TB_STRING"   size="15"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BACK_SRVR_PORT_NO"  colType="TB_INT"      size="5"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="AD_FILE_URL1"       colType="TB_STRING"   size="80"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="AD_FILE_URL2"       colType="TB_STRING"   size="80"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="UPER_MSG_ID"        colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MIDL_MSG_ID"        colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="LWER_MSG_ID"        colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CASH_RECP_MSG_ID"   colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PHONE_NO"           colType="TB_STRING"   size="14"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PHONE1_NO"          colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PHONE2_NO"          colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PHONE3_NO"          colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="RSPNS_NAME"         colType="TB_STRING"   size="10"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="RSPNS_TEL_NO"       colType="TB_STRING"   size="14"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="RSPNS_TEL_NO_1"     colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="RSPNS_TEL_NO_2"     colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="RSPNS_TEL_NO_3"     colType="TB_STRING"   size="4"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_01"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_02"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_03"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_04"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_05"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_06"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_07"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_08"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_09"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_10"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_11"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_12"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_13"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_14"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_15"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_16"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_17"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_18"            colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_19"            colType="TB_INT"      size="8"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_20"            colType="TB_INT"      size="8"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_21"            colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_22"            colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_23"            colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_24"            colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="OPTN_25"            colType="TB_STRING"   size="20"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="USE_YN"             colType="TB_STRING"   size="1"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="VEN_CD"             colType="TB_STRING"   size="6"    dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="VEN_NAME"           colType="TB_STRING"   size="40"   dec="0"  keyType="TB_NORMAL" roundMode="ROUND" />       
    </gauce>
    <!-- 쿼리는 전부 대문자 -->
    <!-- POS 마스터 조회 쿼리  -->
    <query name="SEL_POSMST">
        <![CDATA[
            SELECT STR_CD                       
                 , DPS.FN_GET_STORE_NAME(STR_CD)                         AS STR_NAME                     
                 , POS_NO                       
                 , POS_NAME                     
                 , SHOP_NAME                    
                 , EVENT_PLACE_CD               
                 , DPS.FN_GET_EVENT_PLACE_NAME(STR_CD,EVENT_PLACE_CD)    AS EVENT_PLACE_NAME             
                 , POS_FLAG                     
                 , COM.FN_GET_COMM_NAME('D','P082',POS_FLAG)             AS POS_FLAG_NAME                
                 , FLOR_CD                      
                 , COM.FN_GET_COMM_NAME('D','P061',FLOR_CD)              AS FLOR_NAME                    
                 , MST_POS_NO                   
                 , DPS.FN_GET_POS_NAME(STR_CD,MST_POS_NO)                AS MST_POS_NAME                 
                 , FNB_SHOP_CD                  
                 , DPS.FN_GET_FNB_SHOP_NAME(STR_CD,FNB_SHOP_CD)          AS FNB_SHOP_NAME                
                 , ITEM_REG_TYPE                
                 , COM.FN_GET_COMM_NAME('D','P030',ITEM_REG_TYPE)        AS ITEM_REG_TYPE_NAME           
                 , MIX_REG_YN                   
                 , POS_IP_ADDR1                  
                 , MAIN_SRVR_IP_ADDR            
                 , MAIN_SRVR_PORT_NO            
                 , BACK_SRVR_IP_ADDR            
                 , BACK_SRVR_PORT_NO            
                 , AD_FILE_URL1                 
                 , AD_FILE_URL2                 
                 , UPER_MSG_ID                  
                 , MIDL_MSG_ID                  
                 , LWER_MSG_ID                  
                 , CASH_RECP_MSG_ID             
                 , PHONE1_NO                     
                   ||CASE WHEN PHONE1_NO IS NOT NULL THEN '-' END 
                   ||PHONE2_NO 
                   ||CASE WHEN PHONE2_NO IS NOT NULL THEN '-' END 
                   ||PHONE3_NO                                          AS  PHONE_NO    
                 , PHONE1_NO                    
                 , PHONE2_NO                    
                 , PHONE3_NO                    
                 , RSPNS_NAME                   
                 , RSPNS_TEL_NO_1
                   ||CASE WHEN RSPNS_TEL_NO_1 IS NOT NULL THEN '-' END 
                   ||RSPNS_TEL_NO_2 
                   ||CASE WHEN RSPNS_TEL_NO_2 IS NOT NULL THEN '-' END 
                   ||RSPNS_TEL_NO_3                                     AS  RSPNS_TEL_NO                 
                 , RSPNS_TEL_NO_1               
                 , RSPNS_TEL_NO_2               
                 , RSPNS_TEL_NO_3               
                 , OPTN_01                      
                 , OPTN_02                      
                 , OPTN_03                      
                 , OPTN_04                      
                 , OPTN_05                      
                 , OPTN_06                      
                 , OPTN_07                      
                 , OPTN_08                      
                 , OPTN_09                      
                 , OPTN_10                      
                 , OPTN_11                      
                 , OPTN_12                      
                 , OPTN_13                      
                 , OPTN_14                      
                 , OPTN_15                      
                 , OPTN_16                      
                 , OPTN_17                      
                 , OPTN_18                      
                 , OPTN_19                      
                 , OPTN_20                      
                 , OPTN_21                      
                 , OPTN_22                      
                 , OPTN_23                      
                 , OPTN_24                      
                 , OPTN_25                      
                 , USE_YN    
                 , VEN_CD                       
                 , DPS.FN_GET_VENDOR_NAME(VEN_CD)                      AS VEN_NAME
              FROM DPS.PC_POSMST 
             WHERE STR_CD        = ?
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_POS_NO">
        <![CDATA[
               AND POS_NO        LIKE ?||'%'
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_POS_NAME">
        <![CDATA[
               AND POS_NAME      LIKE '%'||?||'%'
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_SHOP_NAME">
        <![CDATA[
               AND SHOP_NAME     LIKE '%'||?||'%'
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_POS_FLAG">
        <![CDATA[
               AND POS_FLAG      = ?
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_MST_POS_NO">
        <![CDATA[
               AND MST_POS_NO    LIKE ?||'%'
        ]]>
    </query>
    <query name="SEL_POSMST_WHERE_MST_POS_NAME">
        <![CDATA[
               AND DPS.FN_GET_POS_NAME(STR_CD,MST_POS_NO)  LIKE '%'||?||'%'
        ]]>
    </query>
    <query name="SEL_POSMST_ORDER">
        <![CDATA[
             ORDER BY POS_NO
        ]]>
    </query>
</service>