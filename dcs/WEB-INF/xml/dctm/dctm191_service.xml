<?xml version="1.0" encoding="euc-kr"?>
<!-- XML 버전 1.0을 사용하며 encoding 타입은 ‘euc-kr’로 한다.-->
<!--
 * 작 성 자    : 김영진
 * 회 사 명    : 
 * 작 성 일    : 2010.02.16
 * 변 경 일    : 
 * 변경내용 : 
 * 개    요       :  회원정보 이행작업
 -->
<service name="/dctm191.dm">
    <!-- 일단위 포인트 현황 -->
    <gauce name="H_MASTER"> 
        <column colName="SEQ_NO"         colType="TB_DECIMAL" size="7"    dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MEMBERID"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MEMBERNAME"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PASSWORD"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SS_NO"          colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL1"         colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL2"         colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BIRTH_DT"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="LUNAR_FLAG"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ZIP_CD"    colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ADDR1"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ADDR2"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="REG_DATE"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL_YN"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_PH"        colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOBILE_PH"      colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ZIP_SEQ"   colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="USE_YN"         colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOD_DATE"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CUST_FLAG"      colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CUST_POINT"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SCOMP_EMP_YN"   colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMP_ID"         colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="DEPT_CD"        colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_FLAG"      colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_REQNUM"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_IPIN"       colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_DCHECK"     colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_USER_ID"   colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_CD"        colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CARD_ISSUE_YN"  colType="TB_STRING"  size="500"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="TEMP_FLAG"      colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
    </gauce>
    
    <gauce name="H_DETAIL"> 
        <column colName="SEQ_NO"         colType="TB_DECIMAL" size="7"    dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MEMBERID"       colType="TB_STRING"  size="50"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MEMBERNAME"     colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PASSWORD"       colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SS_NO"          colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL1"         colType="TB_STRING"  size="50"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL2"         colType="TB_STRING"  size="50"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BIRTH_DT"       colType="TB_STRING"  size="8"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="LUNAR_FLAG"     colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ZIP_CD"    colType="TB_STRING"  size="7"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ADDR1"     colType="TB_STRING"  size="255" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ADDR2"     colType="TB_STRING"  size="255" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="REG_DATE"       colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL_YN"       colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_PH"        colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOBILE_PH"      colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_ZIP_SEQ"   colType="TB_DECIMAL" size="7"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="USE_YN"         colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOD_DATE"       colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CUST_FLAG"      colType="TB_STRING"  size="2"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CUST_POINT"     colType="TB_DECIMAL" size="9"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SCOMP_EMP_YN"   colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMP_ID"         colType="TB_STRING"  size="9"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="DEPT_CD"        colType="TB_STRING"  size="3"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_FLAG"      colType="TB_STRING"  size="10"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_REQNUM"     colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_IPIN"       colType="TB_STRING"  size="13"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CFM_DCHECK"     colType="TB_STRING"  size="64"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_USER_ID"   colType="TB_STRING"  size="50"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PROM_CD"        colType="TB_STRING"  size="50"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CARD_ISSUE_YN"  colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SS_NO_EN"       colType="TB_STRING"  size="64"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL1_EN"      colType="TB_STRING"  size="128" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="EMAIL2_EN"      colType="TB_STRING"  size="128" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_PH1_EN"    colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_PH2_EN"    colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_PH3_EN"    colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOBILE_PH1_EN"  colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOBILE_PH2_EN"  colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MOBILE_PH3_EN"  colType="TB_STRING"  size="32"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="PASSWORD_EN"    colType="TB_STRING"  size="40"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HCLS_ZIP_CD1"   colType="TB_STRING"  size="3"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HCLS_ZIP_CD2"   colType="TB_STRING"  size="3"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HCLS_ADDR1"     colType="TB_STRING"  size="200" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HCLS_ADDR2"     colType="TB_STRING"  size="200" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_CLS_YN"    colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HNEW_ZIP_CD1"   colType="TB_STRING"  size="3"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HNEW_ZIP_CD2"   colType="TB_STRING"  size="3"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HNEW_ADDR1"     colType="TB_STRING"  size="200" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HNEW_ADDR2"     colType="TB_STRING"  size="200" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HOME_NEW_YN"    colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CARD_NO_EN"     colType="TB_STRING"  size="64"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CARD_NO"        colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="CUST_ID"        colType="TB_STRING"  size="9"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SIDO"           colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="SIGUN"          colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="GU"             colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="YDONG"          colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="DONGRI"         colType="TB_STRING"  size="30"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BUNJI_FLAG"     colType="TB_STRING"  size="5"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BUNJI"          colType="TB_STRING"  size="10"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="GAJI_BUNJI"     colType="TB_STRING"  size="20"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BUILD_NAME"     colType="TB_STRING"  size="100" dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="FLOOR"          colType="TB_STRING"  size="10"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BUILD_DONG"     colType="TB_STRING"  size="10"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="BUILD_HO"       colType="TB_STRING"  size="10"  dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="MAIL_SEND_YN"   colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="HHOLD_ID"       colType="TB_STRING"  size="9"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
        <column colName="TEMP_FLAG"      colType="TB_STRING"  size="1"   dec="0" keyType="TB_NORMAL" roundMode="ROUND" />
    </gauce>
 
    <!-- 회원정보 이행작업 -->
    <query name="SEL_MASTER">        
        <![CDATA[
            SELECT SEQ_NO
                 , MEMBERID
                 , MEMBERNAME
                 , PASSWORD
                 , SS_NO
                 , EMAIL1
                 , EMAIL2
                 , BIRTH_DT
                 , LUNAR_FLAG
                 , HOME_ZIP_CD
                 , HOME_ADDR1
                 , HOME_ADDR2
                 , REG_DATE
                 , EMAIL_YN
                 , HOME_PH
                 , MOBILE_PH
                 , HOME_ZIP_SEQ
                 , USE_YN
                 , MOD_DATE
                 , CUST_FLAG
                 , CUST_POINT
                 , SCOMP_EMP_YN
                 , EMP_ID
                 , DEPT_CD
                 , PROM_FLAG
                 , CFM_REQNUM
                 , CFM_IPIN
                 , CFM_DCHECK
                 , PROM_USER_ID
                 , PROM_CD
                 , CARD_ISSUE_YN
                 , TEMP_FLAG
              FROM DCS.DM_HPAGE_USER_TEMP2
             WHERE SEQ_NO BETWEEN ? AND ?
               AND PROC_YN IS NULL 
             ORDER BY SEQ_NO

        ]]>        
    </query>  
    
    <!-- 회원정보 이행작업 -->
    <query name="SEL_DETAIL">        
        <![CDATA[
            SELECT SEQ_NO
                 , MEMBERID
                 , MEMBERNAME
                 , PASSWORD
                 , SS_NO
                 , EMAIL1
                 , EMAIL2
                 , BIRTH_DT
                 , LUNAR_FLAG
                 , HOME_ZIP_CD
                 , HOME_ADDR1
                 , HOME_ADDR2
                 , REG_DATE
                 , EMAIL_YN
                 , HOME_PH
                 , MOBILE_PH
                 , HOME_ZIP_SEQ
                 , USE_YN
                 , MOD_DATE
                 , CUST_FLAG
                 , CUST_POINT
                 , SCOMP_EMP_YN
                 , EMP_ID
                 , DEPT_CD
                 , PROM_FLAG
                 , CFM_REQNUM
                 , CFM_IPIN
                 , CFM_DCHECK
                 , PROM_USER_ID
                 , PROM_CD
                 , CARD_ISSUE_YN
                 , SS_NO_EN
                 , EMAIL1_EN
                 , EMAIL2_EN
                 , HOME_PH1_EN
                 , HOME_PH2_EN
                 , HOME_PH3_EN
                 , MOBILE_PH1_EN
                 , MOBILE_PH2_EN
                 , MOBILE_PH3_EN
                 , PASSWORD_EN
                 , HCLS_ZIP_CD1
                 , HCLS_ZIP_CD2
                 , HCLS_ADDR1
                 , HCLS_ADDR2
                 , HOME_CLS_YN
                 , HNEW_ZIP_CD1
                 , HNEW_ZIP_CD2
                 , HNEW_ADDR1
                 , HNEW_ADDR2
                 , HOME_NEW_YN
                 , CARD_NO_EN
                 , CARD_NO
                 , CUST_ID
                 , SIDO
                 , SIGUN
                 , GU
                 , YDONG
                 , DONGRI
                 , BUNJI_FLAG
                 , BUNJI
                 , GAJI_BUNJI
                 , BUILD_NAME
                 , FLOOR
                 , BUILD_DONG
                 , BUILD_HO
                 , MAIL_SEND_YN
                 , HHOLD_ID
                 , TEMP_FLAG
              FROM DCS.DM_HPAGE_USER_TEMP
             WHERE SEQ_NO BETWEEN ? AND ?
             ORDER BY SEQ_NO
        ]]>        
    </query>  

    <!-- 회원등급 수정 -->
    <query name="UPD_PROC_YN">
        <![CDATA[
            UPDATE DCS.DM_HPAGE_USER_TEMP2
               SET PROC_YN = 'Y'
             WHERE SEQ_NO  = ?
               AND PROC_YN IS NULL 
        ]]>
    </query> 
    
    <!-- 회원 TEMP 저장  -->
    <query name="INS_TEMP">         
        <![CDATA[    
            INSERT INTO DCS.DM_HPAGE_USER_TEMP (
                                                MEMBERID
                                              , MEMBERNAME
                                              , PASSWORD
                                              , SS_NO
                                              , EMAIL1
                                              , EMAIL2
                                              , BIRTH_DT
                                              , LUNAR_FLAG
                                              , HOME_ZIP_CD
                                              , HOME_ADDR1
                                              , HOME_ADDR2
                                              , REG_DATE
                                              , EMAIL_YN
                                              , HOME_PH
                                              , MOBILE_PH
                                              , HOME_ZIP_SEQ
                                              , USE_YN
                                              , MOD_DATE
                                              , CUST_FLAG
                                              , CUST_POINT
                                              , SCOMP_EMP_YN
                                              , EMP_ID
                                              , DEPT_CD
                                              , PROM_FLAG
                                              , CFM_REQNUM
                                              , CFM_IPIN
                                              , CFM_DCHECK
                                              , PROM_USER_ID
                                              , PROM_CD
                                              , CARD_ISSUE_YN
                                              , SS_NO_EN
                                              , EMAIL1_EN
                                              , EMAIL2_EN
                                              , HOME_PH1_EN
                                              , HOME_PH2_EN
                                              , HOME_PH3_EN
                                              , MOBILE_PH1_EN
                                              , MOBILE_PH2_EN
                                              , MOBILE_PH3_EN
                                              , PASSWORD_EN
                                              , HCLS_ZIP_CD1
                                              , HCLS_ZIP_CD2
                                              , HCLS_ADDR1
                                              , HCLS_ADDR2
                                              , HOME_CLS_YN
                                              , HNEW_ZIP_CD1
                                              , HNEW_ZIP_CD2
                                              , HNEW_ADDR1
                                              , HNEW_ADDR2
                                              , HOME_NEW_YN
                                              , CARD_NO_EN
                                              , CARD_NO
                                              , CUST_ID
                                              , SIDO
                                              , SIGUN
                                              , GU
                                              , YDONG
                                              , DONGRI
                                              , BUNJI_FLAG
                                              , BUNJI
                                              , GAJI_BUNJI
                                              , BUILD_NAME
                                              , BUILD_DONG
                                              , BUILD_HO
                                              , FLOOR
                                              , MAIL_SEND_YN
                                              , HHOLD_ID
                                              , SEQ_NO
                                              , TEMP_FLAG
                                              ) 
                                       VALUES (
                                               ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , TO_DATE(?, 'YYYY-MM-DD HH24:MI:SS')
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , TO_DATE(?, 'YYYY-MM-DD HH24:MI:SS')
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , DCS.SC_Crypto_FUN('ENC', ?)
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                             , ?
                                              )       
        ]]>                                   
    </query>  
   
</service>